# 1.3 네트워크 코어

종단 시스템을 연결하는 패킷 스위치와 링크의 그물망

## 1.3.1 패킷 교환

- `패킷` : 출발지 종단 시스템에서 목적지 종단 시스템으로 보내기 위해 메시지를 작은 데이터 덩어리로 분할한 것
    - 패킷 스위치(라우터)와 링크 계증 스위치(link-layer switch)를 거침
    - 링크의 최대 전송률과 같은 속도로 각각의 통신 링크에서 전송된다

    - 패킷 전송 시간 = 패킷의 길이(L)/송신 속도(R)
        - R비트/초의 속도로 링크에서 L비트의 패킷을 송신한다면 그 패킷을 전송하는 데 걸리는 시간은 L/R초다.

### 저장-후-전달

- 대부분의 패킷 스위치가 이용하는 방식
- 스위치가 출력 링크로 `패킷의 첫 비트`를 전송하기 전에 전체 패킷을 받아야 함
- 라우터는 보통 여러 개의 링크를 갖는다.
    - 입력되는 패킷을 출력 링크로 교환함

![image](https://github.com/user-attachments/assets/0403b233-ef75-4b18-80d3-555d5164eb3b)
- 그림에서 라우터는 입력링크에서 다른 접속 링크로 패킷을 전달하는 간단한 기능을 가짐
  - 라우터는 받은 패킷의 비트를 buffer(store)한 후 패킷의 모든 비트를 수신한 후에 출력 링크로 패킷을 transmit(forward)하기 시작

- 전파 지연 무시한 전송 시간 계산
  - 0초: 출발지에서 전체 패킷 전송 시작
  - L/R초: 출발지에서 보낸 전체 패킷이 모두 라우터에 도착, 라우터에서 목적지를 향해 패킷을 출력 링크로 전송 시작
  - 2L/R초: 라우터에서 보낸 전체 패킷이 모두 목적지 수신 시스템에에 도착
  - 전체 지연은 2L/R
  - 만약 라우터(스위치)에서 비트가 지연되지 않는다면 L/R이 되지만 라우터는 전달하기에 앞서 전체 패킷을 수신, 저장, 처리할 필요가 있다 (->1.4절)

![image](https://github.com/user-attachments/assets/9fe50551-842b-4d38-92bf-703168d47b8f)


- 목적지 노드가 3개의 모든 패킷을 수신할때까지 경과되는 시간
  - 
